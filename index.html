<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Cruffin Premium | The Art of Taste</title>

  <!-- Fonts -->
  <link
    href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@300;400;600&family=Montserrat:wght@300;400;500&display=swap"
    rel="stylesheet"
  />

  <link rel="stylesheet" href="styles.css" />
</head>
<body>

<!-- ================= NAVBAR ================= -->
<nav class="navbar">
  <div class="navbar-inner">
    <div class="logo">
      <span class="logo-main">CRUFFIN</span>
      <span class="logo-sub">Premium</span>
    </div>
    <div class="nav-tabs">
      <a href="#cakes">Cakes</a>
      <a href="#gallery">Visual Diary</a>
      <a href="#heritage">Heritage</a>
      <a href="#contact" class="cta">Inquire</a>
    </div>
  </div>
</nav>

<!-- ================= HERO ================= -->
<section class="hero">
  <h2 class="hero-pretitle">Signature Cakes & Signature Pastries</h2>
  <span class="hero-tag">EST. 2025</span>
  <h1 class="hero-title">Redefining<br /><span>Indulgence</span></h1>
  <p class="hero-subtitle">
    Where French tradition meets modern innovation.<br />
    Experience the art of the Cruffin.
  </p>
  <a href="#cakes" class="hero-btn">Discover More</a>
</section>

<!-- ================= CAKES ================= -->
<section id="cakes" class="section soft-bg">
  <span class="section-label">Our Cakes</span>
  <h2 class="section-title">Signature Cakes</h2>

  <div class="cakes-grid">
    <div class="cake-card">
      <img src="https://images.unsplash.com/photo-1578985545062-69928b1d9587" />
      <div class="cake-info">
        <h3>Chocolate Truffle</h3>
        <span class="price">‚Çπ1,200</span>
      </div>
    </div>

    <div class="cake-card">
      <img src="https://images.unsplash.com/photo-1614707267537-b85aaf00c4b7" />
      <div class="cake-info">
        <h3>Red Velvet</h3>
        <span class="price">‚Çπ1,350</span>
      </div>
    </div>

    <div class="cake-card">
      <img src="https://images.unsplash.com/photo-1588195538326-c5b1e9f80a1b" />
      <div class="cake-info">
        <h3>Blueberry Cheesecake</h3>
        <span class="price">‚Çπ1,650</span>
      </div>
    </div>
  </div>
</section>

<!-- ================= CONTACT ================= -->
<section id="contact" class="section soft-bg">
  <h2 class="section-title">Begin Your Journey</h2>

  <form class="contact-form" id="contact-form">
    <input type="text" name="name" placeholder="Name" required />
    <input type="email" name="email" placeholder="Email" required />
    <textarea name="message" placeholder="Message" required></textarea>
    <button type="submit">Send Inquiry</button>
  </form>
</section>

<footer class="footer">
  <p><strong>Cruffin Premium</strong></p>
  <p>¬© Cruffin Premium</p>
</footer>

<!-- ================= EMAILJS ================= -->
<script src="https://cdn.jsdelivr.net/npm/emailjs-com@3/dist/email.min.js"></script>
<script>
  emailjs.init("uKgdQBHqHQbnQn2rt");

  document.getElementById("contact-form").addEventListener("submit", function (e) {
    e.preventDefault();
    emailjs.sendForm("service_m0g062y", "template_mv5rmnt", this).then(
      () => alert("Thank you! Your inquiry has been sent."),
      () => alert("Failed to send inquiry. Please try again.")
    );
  });
</script>

<!-- ================= CHATBOT ================= -->
<button id="chat-toggle">üí¨</button>

<div id="chatbox">
  <div class="chat-header">
    <span>cruffin ‚Ä¢ Concierge</span>
    <button id="chat-close">‚úï</button>
  </div>

  <div id="chat-messages" class="chat-messages">
    <div class="bot">
      üëã Welcome to Cruffin Premium! Ask me about cakes or prices.
    </div>
  </div>

  <div class="chat-input">
    <input id="chat-input" placeholder="Ask me anything‚Ä¶" />
    <button id="send-btn">Send</button>
  </div>
</div>

<script>
  const chatToggle = document.getElementById("chat-toggle");
  const chatbox = document.getElementById("chatbox");
  const closeBtn = document.getElementById("chat-close");
  const sendBtn = document.getElementById("send-btn");
  const input = document.getElementById("chat-input");
  const messages = document.getElementById("chat-messages");

  chatToggle.onclick = () => (chatbox.style.display = "flex");
  closeBtn.onclick = () => (chatbox.style.display = "none");

  sendBtn.onclick = async () => {
    const text = input.value.trim();
    if (!text) return;

    messages.innerHTML += `<div class="user">${text}</div>`;
    input.value = "";

    try {
      const res = await fetch("/api/chat", {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({ text })
      });

      const data = await res.json();
      messages.innerHTML += `<div class="bot">${data.reply}</div>`;
    } catch {
      messages.innerHTML += `<div class="bot">‚ö†Ô∏è Chat unavailable</div>`;
    }

    messages.scrollTop = messages.scrollHeight;
  };
</script>

</body>
</html>

